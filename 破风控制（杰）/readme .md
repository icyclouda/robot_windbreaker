# readme

## 整体框架：通过遥控发送信号给机器人，并控制其完成指定任务

### 系统--菜单系统：


>通过菜单实现模式切换；
菜单通过数组进行多级定位，并在遥控器上作为信号的内容进行发送
>通过使能按钮控制信号的输出；
>并用oled实时显示当前状态；

### 无线通信：

使用nrf24l01—2.4g通信模块建立一对一通信

### 运动：

使用pid算法控制小车的轮子的转速，使其满足指定速度要求，pid也添加了伪自适应。
pwm输出和限制函数、pid相关函数（参数伪自适应，变量输入处理与限制等）

### 取矿------机械臂：

> 对机械臂进行逆运动学解算，并通过控制末端点的世界坐标来控制机械臂的整体姿态；

> 增加多一个轴使末端杆可以呈特定角度；

> 机械臂采用三个舵机作为关节，外加使用车身进行旋转和远距离平移
>通过人工计算后再使用matlab解方程得出最后的角度公式，并写入程序

> 当主板接收到遥控器的对应菜单信号后进入机械臂的控制循环；

> 定时器10ms产生一次中断后进入回调函数,并在其中进行解算
> 经过低通滤波后将关节角处理后传给舵机
>
> 在舵机控制循环中加入了错误急停部分，当结算过程中出现错误，即输入机械臂无法到达的坐标时，会记录出错原因并返回到输入中限制坐标改变（因为x增加产生错误则x不允许再增加，只能减少）
> 每一次常用点位的切换都会刷新标志位对机械臂错误标志数组复位，使用二进制位操作实现
### 遥控：

使用两个双轴摇杆来作为输入端，通过adc转换后获取控制数据；
两个遥杆的解算方式为，左摇杆控制万向平移，右摇杆控制左右差速

使用5个按钮来实现菜单的切换(上下前后&enable)
通过上下前后确定当前模式的位置，并记录在数组中，enable按下后信号发送。




## 第一次写开源的文档，可能有点抽象，如果有什么疑惑或者更好的建议欢迎来讨论呀！或者直接在github上留言也是可以哒